## 声音

### 无法播放或者延迟播放

* 文件格式有问题，格式工厂转换一下，选择44100Hz，96kbps。
* 确保在点击触发后直接播放音频，不要加任何的时间延迟。

### decode error 

* 音频文件非标准的文件格式，需要将格式转换下。 使用格式工厂，选择44100Hz，96kbps 转换

### 播放重复加载

* 在使用 audio 方式播放时，一些浏览器会不停的来回加载文件，此时建议将音频文件合成为一个文件，通过时间段控制。

### 多音频播放支持

* 一些浏览器不支持 audio 方式的同时播放，此时建议尝试使用 webAudio 来播放。如果 webAudio 也不行，那这个浏览器就只支持单一音频的 audio 播放。

## 文本

### 静态文本
* TextField 减少对于描边的使用（stroke）
* 固定文字段落应当使用位图避免文字重绘
* TextField中使用cacheAsBitmap，可以减少重绘次数

### 输入文本
* 尽量出现在软键盘弹出的上面
* 输入过程中不要出现有屏幕大小变化的操作

## 图片

### 微信图片显示问题
* 单张图建议不要超过 1024 * 1024，目前浏览器测试 2048 * 2048 是没有问题。

### 火狐显示有黑线
* 9宫图使用时，不要使用非整数的宽高。
* localToGlobal 后的坐标不要有小数。

### 减少网络请求
* 将碎图合成一张大图。

## 遮罩

* 遮罩如果是 DisplayObject，必须加入到显示列表后，方能正常使用
* 遮罩如果是 Rectangle，请修改遮罩数据后，重新将遮罩赋值给对象

## 性能

### 显示对象
* Shape/DisplayObjectContainer，不建议使用 Sprite。
* 能用图片的不用Graphics实现，繁琐的 Graphics 绘制会大大增加渲染消耗。
* 禁用不必要显示对象的触摸交互，减少获取最终点击对象的计算。
* 能通过父层计算出来交互的不直接在子容器直接加事件获取，可以减少不必要的事件流。
* 尽量将静态图或者文字放到一个容器中，并对容器缓存（cacheAsBitmap），可以大大降低draw数量。
* 缓存的容器的不要超过1024 * 1024，目前浏览器测试 2048 * 2048 是没有问题。

### 对象释放
* 事件删除
* 显示列表删除
* 回调删除
* Tween 循环删除
* 后台对象能删除就删除，实在不能删除设置visible=false，alpha=0不能解决绘制的问题。
> 对象最终释放判断标准，无法通过 window 的任何方式获取到对象，即为成功释放。

### 对象复用
* 使用对象池优化创建销毁。创建是一个消耗内存与CPU的过程。大量创建会使你内存占用快速增长，导致性能下降，可以使用对象池优化创建销毁。

### 注意事项
* 尽量降低 Alpha 混合使用。
* 多次调用类属性时，避免直接使用this.att，建立局部变量赋值。`var att = this.att`
* 减少 Event.ENTER_FRAME 使用
* 位移计算请不要通过帧数来计算，而是根据实际的帧时间间隔来计算（可避免显示的抖动）。
* 对于简单的动画，建议使用序列帧或者 db 的 Movie。
* 单屏不要超过200，最好在几十个，越少越好
## 网络

### 素材处理
* 不要一次性下载太多的素材，尽量分布在使用前加载。
* 将碎图合成一张大图，减少下载数量（虚拟加载）。
* Png 图可以使用其他工具压缩减少体积。

### 配置文件
* 尽量将配置文件合并到一个大文件里，减少下载数量。
* 配置文件去掉格式化。
* Json 数据可以去掉一些不必要的小数。

### 下载处理
* 资源服务器开启GZIP压缩，提高载入速率。
* 登录+主页面的素材不要超过2m，（如果一个手机下载速度100k，则需要20s）。
* 在主页面显示后动态下载素材。
* 加入静默加载，比如在登录页面操作时下载主页面相关素材。

## 语法

* 请尽量不要使用方法内创建函数，如果使用，请将函数声明放在方法的最开始处。
* ts 中没有属性的 super 调用，请使用 egret.superGetter 和 egret.superSetter 代替。
* 不要使用特殊的正则表达式（使用时最好测试下 ios，很有可能解析不了）
* 不要在声明的时候去初始化对象，需要赋值基本类型
* 类属性不宜过多(<64 包括从集成过来的)，少继承，多引用
* 如果出现 js 加载列表乱的情况，在文件头加入 `/// <reference path="version/NativeVersionController.ts" />`